
@{
    Layout = "~/Views/Shared/Layout.cshtml";
}


<link rel="stylesheet" href="~/Content/CSS/Login.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

<center>
    <div class="caixa">
        <div class="container botoes">
            <center>
                <form action="/Jogo/LogarUsuario" method="post" class="col s12">
                    <div class="row">
                        <div class="input-field col s12">
                            <label for="usu.nickname">Digite o seu nome de usuário:</label>
                            <input type="text" id="usu.nickname" name="usu.nickname" maxlength="15" />
                            @Html.ValidationMessage("usu.nickname")
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <label for="usu.senha">Senha:</label>
                            <input type="password" id="usu.senha" name="usu.senha" />
                            @Html.ValidationMessage("usu.senha")
                        </div>
                    </div>
                    <center>
                        <button type="submit" class="waves-effect waves-light btn" style="font-family: 'Open Sans', sans-serif;">Logar</button>
                    </center>
                </form>
            </center>
        </div>
    </div>
</center>

<div class="modal modal-fixed-footer" id="modal">
    <div class="modal-content">
        <div class="modal-header" id="headerModalAviso">
            <h3><i>Login</i></h3>
        </div>
        <div class="modal-body">
            <p>Verifique seu login e senha!</p>
        </div>
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect waves-green btn-flat">Cancelar</a>
    </div>
</div>

<script>
    var modal = document.getElementById("modal");
    var span = document.getElementsByClassName("close")[0];

    abrirModal = function () {
        modal.style.display = "block";
    }
    
    var falhaLogin;

    if (@ViewBag.FalhaLogin == True)
        falhaLogin = true;
    else
        falhaLogin = false;

    if (falhaLogin) {
        abrirModal();
    }

    window.onclick = function (event) {
        if (event.target!==modal)
            modal.style.display = "none";
    };

    span.onclick = function () {
        modal.style.display = "none";
    }

</script>